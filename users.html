<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="Stylesheet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <nav class="navv">
        <div class="logo">
            <h1>APIX ENGLISH</h1>
        </div>
        <ul class="navi">
            <li><a href="#introduction">INTRODUCTION</a></li>
            <li><a href="#service">TEACHER</a></li>
            <li><a href="#courses">COURSE</a></li>
            <li><a href="#gallery">GALLERY</a></li>
            <li><a href="#contact">CONTACT</a></li>
            <li><a href="/login">LOGIN</a></li>
            <!-- M·ª•c qu·∫£n l√Ω s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y b·∫±ng JavaScript n·∫øu l√† admin -->
        </ul>
    </nav>
    <main>
        <section class="introduction" id="introduction">
            <div class="container">
                <div class="row align-items-center hero-content">
                    <div class="col-lg-6 order-lg-2 text-center">
                        <div class="introduction-image-container">
                            <img class="user-img" src="imgs/user-cover.png" alt="Learning English at APIX">
                        </div>
                    </div>
                    <div class="col-lg-6 order-lg-1 text-white">
                        <div class="introduction-text">
                            <h1 class="display-4 font-weight-bold">Welcome to <span class="text-danger">APIX</span>
                                English</h1>
                            <p class="lead my-4">Your journey to English fluency starts here. We provide a dynamic
                                learning environment with expert instructors and courses tailored to your success.</p>
                            <div class="cta-buttons">
                                <a href="#courses" class="btn btn-danger btn-lg mr-2">Explore Courses</a>
                                <a href="#service" class="btn btn-outline-secondary btn-lg">Meet Our Teachers</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        <section class="service" id="service">
            <div class="service-overlay">
                <div class="container py-5">
                    <div class="text-center mb-5">
                        <p class="quest"><b>TOP EXPERTS</b></p>
                        <h1 class="display-4 font-weight-bold">Meet Our Teachers</h1>
                        <p class="lead text-muted">Dedicated professionals committed to your success.</p>
                    </div>

                    <div class="row">
                        <div class="col-4"></div>
                        <div class="col-4">
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Name" id="search-name-field">
                                <div class="input-group-append">
                                    <button class="btn btn-danger" type="button" id="searching"><i class="fa fa-search"
                                            aria-hidden="true"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="col-4"></div>
                    </div>
                    <div class="row user-teacher">
                    </div>
                </div>
            </div>
        </section>







        <section class="courses" id="courses">
            <div class="courses-overlay">
                <div class="container">
                    <div class="text-center mb-5">
                        <h2 class="section-title">Our Courses</h2>
                        <p class="section-subtitle">Discover the right English course for your goals.</p>
                    </div>

                    <!-- Dynamic Course List Container -->
                    <div class="row" id="course-list-container">
                        <!-- Course cards will be loaded here by jQuery -->
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== GALLERY SECTION ===== -->
        <section class="gallery py-5" id="gallery">
            <div class="container">
                <div class="text-center mb-5">
                    <h2 class="section-title">Our Gallery</h2>
                    <p class="section-subtitle">Moments from Apix English.</p>
                </div>
                <div class="row" id="image-gallery-container">
                </div>
            </div>
        </section>

        <!-- ===== CONTACT SECTION ===== -->
        <section class="contact-section py-5" id="contact">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 mb-4 mb-lg-0">
                        <div class="contact-text">
                            <h2 class="font-weight-bold text-danger">Need Help?</h2>
                            <h3 class="font-weight-bold mb-3">Get a Free Consultation</h3>
                            <p class="lead text-secondary">Leave your details below, and one of our advisors will get in
                                touch to help you choose the perfect course. Your journey to fluency is just one step
                                away!</p>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="contact-form-wrapper">
                            <form>
                                <div class="form-group"><input type="text" class="form-control"
                                        placeholder="Your Full Name"></div>
                                <div class="form-group"><input type="email" class="form-control"
                                        placeholder="Your Email Address"></div>
                                <div class="form-group"><textarea class="form-control" rows="4"
                                        placeholder="What are you interested in?"></textarea></div>
                                <button type="submit" class="btn btn-danger btn-block btn-lg">Send Request</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- ===== COURSE SECTION ===== -->






    </main>

    <!-- Course Detail Modal -->
    <div class="modal fade" id="courseModal" tabindex="-1" aria-labelledby="courseModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="courseModalLabel">Course Details</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="courseModalBody">
                    <!-- Details will be populated by JavaScript -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>



    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div class="conclu">
                        <h1> <span style="color: #dc3545;">APIX</span> ENGLISH</h1>
                        <p>Our English learning center is more than just a place to study; it‚Äôs a vibrant community
                            where learners are supported by experienced educators and
                            a curriculum tailored to meet individual needs.</p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="add">
                        <h5><span style="color: #dc3545;">CONTACT</span></h5>
                        <dl>
                            <dt>Address</dt>
                            <dd>202 Nguy·ªÖn VƒÉn H∆∞·ªüng, P.Th·∫£o ƒêi·ªÅn, TP.Th·ªß ƒê·ª©c, TP.HCM</dd>
                            <dt>Telephone</dt>
                            <dd>0989 368 880</dd>
                            <dt>Email</dt>
                            <dd>info@lanidani.com</dd>
                        </dl>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="foot-news">
                        <h5><span style="color: #dc3545;">NEWS</span></h5>
                        <ul>
                            <li>New courses</li>
                            <hr>
                            <li>Certificate</li>
                            <hr>
                            <li>Consult</li>
                            <hr>
                        </ul>
                    </div>
                </div>
            </div>
            <hr>
            <p>Copy right 2021 &copy; LANI & DANi Company</p>
        </div>
    </footer>


    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            let all_teachers = [];

            function displayTeachers(teachers) {
                const container = $(".user-teacher");
                container.empty();
                if (teachers.length === 0) {
                    container.html('<p class="col-12 text-center">No teachers found.</p>');
                    return;
                }
                teachers.forEach(teacher => {
                    const card = `
                        <div class="col-md-6 mb-4">
                            <div class="card h-100 shadow-sm">
                                <div class="row no-gutters">
                                    <div class="col-md-4">
                                        <div class="teacher-img-container">
                                            <img src="${teacher.img_path || 'imgs/user.png'}" class="card-img-top" alt="${teacher.full_name}">
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="card-body">
                                            <h5 class="card-title">${teacher.full_name}</h5>
                                            <p class="card-text mb-1"><b>Specialty:</b> ${teacher.specialty}</p>
                                            <p class="card-text mb-1"><b>Qualification:</b> ${teacher.qualification}</p>
                                            <p class="card-text mb-1"><b>Experience:</b> ${teacher.experience_years} years</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    container.append(card);
                });
            }

            function loadAllTeachers() {
                $.get("/teacherdata", function (data) {
                    all_teachers = data;
                    displayTeachers(all_teachers);
                }, "json");
            }

            loadAllTeachers();
            loadGalleryImages();

            $("#searching").click(function () {
                const searchTerm = $("#search-name-field").val().toLowerCase();
                if (searchTerm === '') {
                    displayTeachers(all_teachers);
                    return;
                }
                const filteredTeachers = all_teachers.filter(teacher =>
                    teacher.full_name.toLowerCase().includes(searchTerm)
                );
                displayTeachers(filteredTeachers);
            });
        });

        // Load courses dynamically
        function loadCourses() {
            $.get('/classdata', function (classes) {
                const container = $('#course-list-container');
                container.empty();
                if (classes.length === 0) {
                    container.html('<p class="col-12 text-center">No courses available at the moment.</p>');
                    return;
                }

                classes.forEach(cls => {
                    const courseCard = `
                        <div class="col-lg-4 col-md-6 mb-4">
                          <div class="card h-100 shadow-lg border-0">
                            <div class="card-body d-flex flex-column">
                              <h4 class="card-title text-danger">üéØ ${cls.class_name}</h4>
                              <p class="card-text">
                                Course: ${cls.course || 'N/A'}
                              </p>
                              <ul class="list-unstyled mb-3">
                                <li><b>Level:</b> ${cls.level || 'N/A'}</li>
                                <li><b>Teacher:</b> ${cls.teacher || 'N/A'}</li>
                                <li><b>Schedule:</b> ${cls.schedule || 'N/A'}</li>
                              </ul>
                              <button class="btn btn-danger w-100 mt-auto view-detail"
                                data-toggle="modal"
                                data-target="#courseModal"
                                data-class-id="${cls.id}">
                                View Details
                              </button>
                            </div>
                          </div>
                        </div>
                    `;
                    container.append(courseCard);
                });

                // Attach click event for the new buttons
                $('.view-detail').on('click', function () {
                    const classId = $(this).data('class-id');
                    const selectedClass = classes.find(c => c.id == classId);

                    if (selectedClass) {
                        const modalBody = `
                            <p><strong>Course:</strong> ${selectedClass.course || 'N/A'}</p>
                            <p><strong>Level:</strong> ${selectedClass.level || 'N/A'}</p>
                            <p><strong>Schedule:</strong> ${selectedClass.schedule || 'N/A'}</p>
                            <p><strong>Teacher:</strong> ${selectedClass.teacher || 'N/A'}</p>
                            <p><strong>Fee:</strong> ${selectedClass.tuition_fee || 'N/A'}</p>
                        `;
                        $('#courseModalLabel').text(selectedClass.class_name);
                        $('#courseModalBody').html(modalBody);
                    }
                });
            }, 'json');
        }

        loadCourses();

        function loadGalleryImages() {
            $.get('/api/images', function (images) {
                const container = $('#image-gallery-container');
                container.empty();
                if (images.length === 0) {
                    container.html('<p class="col-12 text-center">No images in the gallery yet.</p>');
                    return;
                }
                images.forEach(image => {
                    container.append(`
                        <div class="col-md-4 col-lg-3 mb-4 gallery-item">
                            <a href="${image.url}" data-toggle="lightbox" data-gallery="apix-gallery">
                                <img src="${image.url}" class="img-fluid">
                            </a>
                        </div>
                    `);
                });
            });
        }
    </script>
</body>

</html>